{"ast":null,"code":"var _jsxFileName = \"/Users/pim.nijhuis/Documents/Business/Trigate/LelieveldTransport/src/components/SingleOrder.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport Table from \"../components/Table\";\nimport { setOrderId, setHubId, setDeliveryDate } from \"../services/order/actions\";\nimport axios from \"axios\";\nimport { formatPrice } from \"../utils/priceUtil\";\nimport Button from \"@material-ui/core/Button\";\nimport { Link } from \"react-router-dom\";\nimport { Redirect } from \"react-router-dom\";\nimport Card from \"./Card\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction SingleOrder(props) {\n  _s();\n\n  const [loading, setLoading] = useState(true);\n  const [order, setOrder] = useState([]);\n  const [header, setHeader] = useState([]);\n  useEffect(() => {\n    fetchData(); // disable fetchAll dependency warning\n    // eslint-disable-next-line\n  }, [props.orderId]);\n\n  const fetchData = async () => {\n    var requestData;\n\n    switch (props.currentType) {\n      // Hub\n      case \"Pickup\":\n      case \"HubOrders\":\n        setHeader([{\n          name: \"Code\",\n          dataName: \"code\"\n        }, {\n          name: \"Naam/Leverancier\",\n          dataName: \"combi\"\n        }, {\n          name: \"Eenheid\",\n          dataName: \"package\"\n        }, {\n          name: \"Aantal\",\n          dataName: \"quantity\"\n        }, {\n          name: \"Prijs\",\n          dataName: \"salesprice\"\n        }]);\n        requestData = {\n          id: props.orderId\n        };\n        return axios.post(\"/hub_order\", requestData).then(response => {\n          const response_data = response.data; // debug voor te veel producten. We moeten pagina's inbrengen.\n\n          setOrder(response_data);\n          setLoading(false);\n        }).catch(err => {});\n\n      case \"HubOrdersSuppliers\":\n        setHeader([{\n          name: \"Code\",\n          dataName: \"code\"\n        }, {\n          name: \"Naam/Leverancier\",\n          dataName: \"combi\"\n        }, {\n          name: \"Aantal\",\n          dataName: \"quantity\"\n        }, {\n          name: \"Prijs\",\n          dataName: \"salesprice\"\n        }]);\n        requestData = {\n          delivery_date: props.deliveryDate,\n          id: props.orderId,\n          hub: props.hubId\n        };\n        return axios.post(\"/hub_orders_leverancier\", requestData).then(response => {\n          const response_data = response.data; // debug voor te veel producten. We moeten pagina's inbrengen.\n\n          setOrder(response_data);\n          setLoading(false);\n        }).catch(err => {});\n      // Supplier\n\n      case \"Orders\":\n      case \"SuppliersOrders\":\n        setHeader([{\n          name: \"Code\",\n          dataName: \"code\"\n        }, {\n          name: \"Naam\",\n          dataName: \"name\"\n        }, {\n          name: \"Verpakking\",\n          dataName: \"package\"\n        }, {\n          name: \"Aantal\",\n          dataName: \"quantity\"\n        }, {\n          name: \"Prijs\",\n          dataName: \"salesprice\"\n        }]);\n        requestData = {\n          order_id: props.orderId\n        };\n        return axios.post(\"/order\", requestData).then(response => {\n          const response_data = response.data; // debug voor te veel producten. We moeten pagina's inbrengen.\n\n          setOrder(response_data);\n          setLoading(false);\n        }).catch(err => {});\n\n      default:\n        break;\n    }\n  };\n\n  if (order) {\n    switch (props.currentType) {\n      case \"Orders\": //Leveringen\n\n      case \"SuppliersOrders\":\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              margin: 0\n            },\n            children: order.supplier\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              margin: 0\n            },\n            children: [\" \", order.note]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              margin: 0\n            },\n            children: \"Afleverdatum: \" + order.delivery_date\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              margin: 0\n            },\n            children: \"Order status: \" + order.order_status\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this), !loading && /*#__PURE__*/_jsxDEV(Card, {\n            body: order.rows\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 26\n          }, this)]\n        }, void 0, true);\n\n      case \"Pickup\":\n        //TODO: kieken\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              margin: 0\n            },\n            children: order.customer\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              margin: 0\n            },\n            children: [\" \", \"Bedrag: \" + formatPrice(order.amount)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              margin: 0\n            },\n            children: \"Afleverdatum: \" + order.delivery_date\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 13\n          }, this), !loading && /*#__PURE__*/_jsxDEV(Card, {\n            body: order.rows\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 26\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            align: \"center\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/sign-order\",\n              style: {\n                textDecoration: \"none\"\n              },\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                color: \"primary\",\n                variant: \"contained\",\n                children: \"Order afmelden\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true);\n\n      case \"HubOrders\":\n        //Bestellingen\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"HeaderTopTextWrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                style: {\n                  margin: 0\n                },\n                children: order.customer\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                style: {\n                  margin: 0\n                },\n                children: \"Bedrag: \" + formatPrice(order.amount)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                style: {\n                  margin: 0\n                },\n                children: \"Afleverdatum: \" + order.delivery_date\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              style: {\n                marginLeft: 20\n              },\n              src: props.logo,\n              alt: \"Logo\",\n              className: \"HeaderLogo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 13\n          }, this), !loading && /*#__PURE__*/_jsxDEV(Card, {\n            body: order.rows\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 26\n          }, this)]\n        }, void 0, true);\n\n      case \"HubOrdersSuppliers\":\n        //Te ontvangen\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              margin: 0\n            },\n            children: \"Afhaalpunt: \" + props.pickupPoint\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              margin: 0\n            },\n            children: \"Afleverdatum: \" + props.deliveryDate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this), !loading && /*#__PURE__*/_jsxDEV(Card, {\n            body: order\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 26\n          }, this)]\n        }, void 0, true);\n\n      default:\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: !loading && /*#__PURE__*/_jsxDEV(Table, {\n            body: order,\n            header: header\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 31\n          }, this)\n        }, void 0, false);\n    }\n  } else {\n    return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/scanner\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 12\n    }, this);\n  }\n}\n\n_s(SingleOrder, \"gZEvV1OMyKMd2D/m1OARevoa3Xk=\");\n\n_c = SingleOrder;\n\nfunction mapStateToProps(state) {\n  return {\n    currentType: state.general.currentType,\n    orderId: state.order.orderId,\n    deliveryDate: state.order.deliveryDate,\n    pickupPoint: state.order.pickuppoint,\n    hubId: state.order.hubId,\n    logo: state.login.login_data.logo\n  };\n}\n\nexport default connect(mapStateToProps, {\n  setOrderId,\n  setHubId,\n  setDeliveryDate\n})(SingleOrder);\n\nvar _c;\n\n$RefreshReg$(_c, \"SingleOrder\");","map":{"version":3,"sources":["/Users/pim.nijhuis/Documents/Business/Trigate/LelieveldTransport/src/components/SingleOrder.js"],"names":["React","useState","useEffect","connect","Table","setOrderId","setHubId","setDeliveryDate","axios","formatPrice","Button","Link","Redirect","Card","SingleOrder","props","loading","setLoading","order","setOrder","header","setHeader","fetchData","orderId","requestData","currentType","name","dataName","id","post","then","response","response_data","data","catch","err","delivery_date","deliveryDate","hub","hubId","order_id","margin","supplier","note","order_status","rows","customer","amount","textDecoration","marginLeft","logo","pickupPoint","mapStateToProps","state","general","pickuppoint","login","login_data"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport Table from \"../components/Table\";\nimport {\n  setOrderId,\n  setHubId,\n  setDeliveryDate,\n} from \"../services/order/actions\";\nimport axios from \"axios\";\nimport { formatPrice } from \"../utils/priceUtil\";\nimport Button from \"@material-ui/core/Button\";\nimport { Link } from \"react-router-dom\";\nimport { Redirect } from \"react-router-dom\";\nimport Card from \"./Card\";\n\nfunction SingleOrder(props) {\n  const [loading, setLoading] = useState(true);\n  const [order, setOrder] = useState([]);\n  const [header, setHeader] = useState([]);\n\n  useEffect(() => {\n    fetchData();\n\n    // disable fetchAll dependency warning\n    // eslint-disable-next-line\n  }, [props.orderId]);\n\n  const fetchData = async () => {\n    var requestData;\n    switch (props.currentType) {\n      // Hub\n      case \"Pickup\":\n      case \"HubOrders\":\n        setHeader([\n          { name: \"Code\", dataName: \"code\" },\n          { name: \"Naam/Leverancier\", dataName: \"combi\" },\n          { name: \"Eenheid\", dataName: \"package\" },\n          { name: \"Aantal\", dataName: \"quantity\" },\n          { name: \"Prijs\", dataName: \"salesprice\" },\n        ]);\n        requestData = {\n          id: props.orderId,\n        };\n\n        return axios\n          .post(\"/hub_order\", requestData)\n          .then((response) => {\n            const response_data = response.data; // debug voor te veel producten. We moeten pagina's inbrengen.\n            setOrder(response_data);\n            setLoading(false);\n          })\n          .catch((err) => {});\n\n      case \"HubOrdersSuppliers\":\n        setHeader([\n          { name: \"Code\", dataName: \"code\" },\n          { name: \"Naam/Leverancier\", dataName: \"combi\" },\n          { name: \"Aantal\", dataName: \"quantity\" },\n          { name: \"Prijs\", dataName: \"salesprice\" },\n        ]);\n        requestData = {\n          delivery_date: props.deliveryDate,\n          id: props.orderId,\n          hub: props.hubId,\n        };\n\n        return axios\n          .post(\"/hub_orders_leverancier\", requestData)\n          .then((response) => {\n            const response_data = response.data; // debug voor te veel producten. We moeten pagina's inbrengen.\n            setOrder(response_data);\n            setLoading(false);\n          })\n          .catch((err) => {});\n\n      // Supplier\n      case \"Orders\":\n      case \"SuppliersOrders\":\n        setHeader([\n          { name: \"Code\", dataName: \"code\" },\n          { name: \"Naam\", dataName: \"name\" },\n          { name: \"Verpakking\", dataName: \"package\" },\n          { name: \"Aantal\", dataName: \"quantity\" },\n          { name: \"Prijs\", dataName: \"salesprice\" },\n        ]);\n\n        requestData = {\n          order_id: props.orderId,\n        };\n\n        return axios\n          .post(\"/order\", requestData)\n          .then((response) => {\n            const response_data = response.data; // debug voor te veel producten. We moeten pagina's inbrengen.\n            setOrder(response_data);\n            setLoading(false);\n          })\n          .catch((err) => {});\n\n      default:\n        break;\n    }\n  };\n\n  if (order) {\n    switch (props.currentType) {\n      case \"Orders\": //Leveringen\n      case \"SuppliersOrders\":\n        return (\n          <>\n            <h2 style={{ margin: 0 }}>{order.supplier}</h2>\n            <h2 style={{ margin: 0 }}> {order.note}</h2>\n            <h2 style={{ margin: 0 }}>\n              {\"Afleverdatum: \" + order.delivery_date}\n            </h2>\n            <h2 style={{ margin: 0 }}>\n              {\"Order status: \" + order.order_status}\n            </h2>\n            {!loading && <Card body={order.rows} />}\n          </>\n        );\n      case \"Pickup\": //TODO: kieken\n        return (\n          <>\n            <h2 style={{ margin: 0 }}>{order.customer}</h2>\n            <h2 style={{ margin: 0 }}>\n              {\" \"}\n              {\"Bedrag: \" + formatPrice(order.amount)}\n            </h2>\n            <h2 style={{ margin: 0 }}>\n              {\"Afleverdatum: \" + order.delivery_date}\n            </h2>\n            {!loading && <Card body={order.rows} />}\n            <br />\n            <div align=\"center\">\n              <Link to=\"/sign-order\" style={{ textDecoration: \"none\" }}>\n                <Button color=\"primary\" variant=\"contained\">\n                  {\"Order afmelden\"}\n                </Button>\n              </Link>\n            </div>\n          </>\n        );\n      case \"HubOrders\": //Bestellingen\n        return (\n          <>\n            <div className=\"HeaderTopTextWrapper\">\n              <div>\n                <h2 style={{ margin: 0 }}>{order.customer}</h2>\n                <h3 style={{ margin: 0 }}>\n                  {\"Bedrag: \" + formatPrice(order.amount)}\n                </h3>\n                <h3 style={{ margin: 0 }}>\n                  {\"Afleverdatum: \" + order.delivery_date}\n                </h3>\n              </div>\n\n              <img\n                style={{ marginLeft: 20 }}\n                src={props.logo}\n                alt=\"Logo\"\n                className=\"HeaderLogo\"\n              />\n            </div>\n            <br />\n            {!loading && <Card body={order.rows} />}\n          </>\n        );\n      case \"HubOrdersSuppliers\": //Te ontvangen\n        return (\n          <>\n            <h3 style={{ margin: 0 }}>{\"Afhaalpunt: \" + props.pickupPoint}</h3>\n            <h3 style={{ margin: 0 }}>\n              {\"Afleverdatum: \" + props.deliveryDate}\n            </h3>\n            {!loading && <Card body={order} />}\n          </>\n        );\n      default:\n        return <>{!loading && <Table body={order} header={header} />}</>;\n    }\n  } else {\n    return <Redirect to=\"/scanner\" />;\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    currentType: state.general.currentType,\n    orderId: state.order.orderId,\n    deliveryDate: state.order.deliveryDate,\n    pickupPoint: state.order.pickuppoint,\n    hubId: state.order.hubId,\n    logo: state.login.login_data.logo,\n  };\n}\n\nexport default connect(mapStateToProps, {\n  setOrderId,\n  setHubId,\n  setDeliveryDate,\n})(SingleOrder);\n"]},"metadata":{},"sourceType":"module"}