{"ast":null,"code":"import { LOGIN } from \"./actionTypes\";\nimport axios from \"axios\";\nexport const loginAPI = (username, password) => dispatch => {\n  const requestData = {\n    login_username: username,\n    login_password: password\n  };\n  axios.post(\"/login\", requestData).then(response => {\n    if (response.data.token === \"Missing or False\") {\n      alert(\"Fout bij het inloggen, probeer opnieuw\");\n      return;\n    } else {\n      // Set Login Data\n      const loginData = {\n        token: response.data.token,\n        user_id: response.data.user_id,\n        firstName: response.data.firstname,\n        lastName: response.data.lastname,\n        company: response.data.company,\n        authorization: response.data.authorization,\n        city: response.data.city,\n        logo: \"https://goeieete.suppliershub.eu\" + response.data.logo,\n        mainHub: response.data.main_hub,\n        hub: response.data.hub,\n        supplier: response.data.supplier,\n        zipcode: response.data.zipcode,\n        association: response.data.association,\n        associationId: response.data.association_id\n      }; //setDefaultToken and authorization\n\n      axios.defaults.headers.common[\"Token\"] = loginData.token;\n      axios.defaults.headers.common[\"Authorization\"] = loginData.authorization; // Dispatch Login Data\n\n      dispatch({\n        type: LOGIN,\n        payload: loginData\n      });\n      console.log(loginData);\n      console.log(\"displatched baby\"); //TODO: or hub; write function\n    }\n  }).catch(err => {\n    console.log(\"[login.actions.js] loginAPI || Could not fetch login. Try again later.\");\n  });\n};\nexport const loginWithKey = querystringKey => dispatch => {\n  // console.log(\"started function to login\");\n  const requestData = {\n    key: querystringKey\n  }; // console.log(\"defined request Data\");\n\n  axios.post(\"/login\", requestData).then(response => {\n    if (response.data.token === \"Missing or False\") {\n      alert(\"Fout bij het inloggen, probeer opnieuw\");\n      return;\n    } else {\n      // Set Login Data\n      const loginData = {\n        token: response.data.token,\n        user_id: response.data.user_id,\n        firstName: response.data.firstname,\n        lastName: response.data.lastname,\n        company: response.data.company,\n        authorization: response.data.authorization,\n        city: response.data.city,\n        logo: \"https://goeieete.suppliershub.eu\" + response.data.logo,\n        mainHub: response.data.main_hub,\n        hub: response.data.hub,\n        supplier: response.data.supplier,\n        zipcode: response.data.zipcode,\n        association: response.data.association,\n        associationId: response.data.association_id\n      }; //setDefaultToken and authorization\n\n      axios.defaults.headers.common[\"Token\"] = loginData.token;\n      axios.defaults.headers.common[\"Authorization\"] = loginData.authorization; // Dispatch Login Data\n\n      dispatch({\n        type: LOGIN,\n        payload: loginData\n      });\n      console.log(loginData);\n      console.log(\"displatched baby\"); //TODO: or hub; write function\n    }\n  }).catch(err => {\n    console.log(\"[login.actions.js] loginAPI || Could not fetch login. Try again later.\");\n  });\n};","map":{"version":3,"sources":["/Users/pim.nijhuis/Documents/Business/Trigate/LelieveldTransport/src/services/login/actions.js"],"names":["LOGIN","axios","loginAPI","username","password","dispatch","requestData","login_username","login_password","post","then","response","data","token","alert","loginData","user_id","firstName","firstname","lastName","lastname","company","authorization","city","logo","mainHub","main_hub","hub","supplier","zipcode","association","associationId","association_id","defaults","headers","common","type","payload","console","log","catch","err","loginWithKey","querystringKey","key"],"mappings":"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","sourcesContent":["import { LOGIN } from \"./actionTypes\";\nimport axios from \"axios\";\n\nexport const loginAPI = (username, password) => (dispatch) => {\n  const requestData = {\n    login_username: username,\n    login_password: password,\n  };\n\n  axios\n    .post(\"/login\", requestData)\n    .then((response) => {\n      if (response.data.token === \"Missing or False\") {\n        alert(\"Fout bij het inloggen, probeer opnieuw\");\n        return;\n      } else {\n        // Set Login Data\n        const loginData = {\n          token: response.data.token,\n          user_id: response.data.user_id,\n          firstName: response.data.firstname,\n          lastName: response.data.lastname,\n          company: response.data.company,\n          authorization: response.data.authorization,\n          city: response.data.city,\n          logo: \"https://goeieete.suppliershub.eu\" + response.data.logo,\n          mainHub: response.data.main_hub,\n          hub: response.data.hub,\n          supplier: response.data.supplier,\n          zipcode: response.data.zipcode,\n          association: response.data.association,\n          associationId: response.data.association_id,\n        };\n        //setDefaultToken and authorization\n        axios.defaults.headers.common[\"Token\"] = loginData.token;\n        axios.defaults.headers.common[\"Authorization\"] =\n          loginData.authorization;\n\n        // Dispatch Login Data\n        dispatch({ type: LOGIN, payload: loginData });\n        console.log(loginData);\n        console.log(\"displatched baby\");\n        //TODO: or hub; write function\n      }\n    })\n    .catch((err) => {\n      console.log(\n        \"[login.actions.js] loginAPI || Could not fetch login. Try again later.\"\n      );\n    });\n};\n\nexport const loginWithKey = (querystringKey) => (dispatch) => {\n  // console.log(\"started function to login\");\n  const requestData = {\n    key: querystringKey,\n  };\n  // console.log(\"defined request Data\");\n  axios\n    .post(\"/login\", requestData)\n    .then((response) => {\n      if (response.data.token === \"Missing or False\") {\n        alert(\"Fout bij het inloggen, probeer opnieuw\");\n        return;\n      } else {\n        // Set Login Data\n        const loginData = {\n          token: response.data.token,\n          user_id: response.data.user_id,\n          firstName: response.data.firstname,\n          lastName: response.data.lastname,\n          company: response.data.company,\n          authorization: response.data.authorization,\n          city: response.data.city,\n          logo: \"https://goeieete.suppliershub.eu\" + response.data.logo,\n          mainHub: response.data.main_hub,\n          hub: response.data.hub,\n          supplier: response.data.supplier,\n          zipcode: response.data.zipcode,\n          association: response.data.association,\n          associationId: response.data.association_id,\n        };\n        //setDefaultToken and authorization\n        axios.defaults.headers.common[\"Token\"] = loginData.token;\n        axios.defaults.headers.common[\"Authorization\"] =\n          loginData.authorization;\n\n        // Dispatch Login Data\n        dispatch({ type: LOGIN, payload: loginData });\n        console.log(loginData);\n        console.log(\"displatched baby\");\n        //TODO: or hub; write function\n      }\n    })\n    .catch((err) => {\n      console.log(\n        \"[login.actions.js] loginAPI || Could not fetch login. Try again later.\"\n      );\n    });\n};\n"]},"metadata":{},"sourceType":"module"}